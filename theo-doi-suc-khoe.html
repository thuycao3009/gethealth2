<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Theo D√µi S·ª©c Kh·ªèe C√° Nh√¢n</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      margin: 0;
      background: linear-gradient(to bottom right, #e8f4ff, #ffffff);
      color: #333;
      animation: fadeIn 1s ease;
    }

    @keyframes fadeIn {
      from {opacity: 0; transform: translateY(30px);}
      to {opacity: 1; transform: translateY(0);}
    }

    header {
      background-color: #007bff;
      color: white;
      padding: 30px;
      text-align: center;
      font-size: 24px;
      font-weight: bold;
    }

    .menu {
      background-color: #0056b3;
      padding: 12px 0;
      text-align: center;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
      position: sticky;
      top: 0;
      z-index: 999;
    }

    .menu-container a {
      color: #fff;
      text-decoration: none;
      margin: 0 20px;
      font-weight: bold;
      font-size: 16px;
      transition: color 0.3s ease;
    }

    .menu-container a:hover {
      color: #ffcc00;
    }

    .container {
      max-width: 700px;
      margin: 40px auto;
      padding: 20px;
      background: white;
      border-radius: 12px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.1);
    }

    h2 {
      text-align: center;
      margin-bottom: 20px;
      color: #007bff;
    }

    label {
      font-weight: bold;
      display: block;
      margin: 20px 0 8px;
    }

    select {
      width: 100%;
      padding: 10px;
      border-radius: 8px;
      border: 1px solid #ccc;
      font-size: 16px;
      transition: box-shadow 0.3s ease;
    }

    select:focus {
      box-shadow: 0 0 8px rgba(0,123,255,0.4);
      outline: none;
    }

    button {
      display: block;
      margin: 20px auto;
      padding: 12px 24px;
      background-color: #007bff;
      color: white;
      font-size: 18px;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    button:hover {
      background-color: #0056b3;
      transform: scale(1.05);
    }

    .result {
      margin-top: 30px;
      padding: 20px;
      background-color: #f0faff;
      border-left: 6px solid #007bff;
      border-radius: 8px;
      animation: fadeIn 0.6s ease;
    }

    .result strong {
      display: block;
      margin-top: 10px;
    }

    canvas {
      margin-top: 40px;
      background-color: white;
      border-radius: 12px;
      padding: 20px;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
    }

    .note {
      text-align: center;
      margin-top: 20px;
      font-style: italic;
      color: #555;
    }
  </style>
</head>
<body>
  <!-- THANH MENU -->
  <nav class="menu">
    <div class="menu-container">
      <a href="index.html">Trang Ch·ªß</a>
      <a href="khampha.html">Kh√°m Ph√°</a>
    </div>
  </nav>

  <header>Theo D√µi S·ª©c Kh·ªèe C√° Nh√¢n</header>

  <div class="container">
    <h2>Chia s·∫ª c·∫£m nh·∫≠n h√¥m nay</h2>

    <label>1. Gi·∫•c ng·ªß ƒë√™m qua</label>
    <select id="sleep">
      <option value="">-- Ch·ªçn --</option>
      <option value="good">Ng·ªß ngon v√† s√¢u gi·∫•c</option>
      <option value="average">Ng·ªß kh√¥ng ƒë·ªÅu</option>
      <option value="bad">M·∫•t ng·ªß ho·∫∑c ng·ªß mu·ªôn</option>
    </select>

    <label>2. M·ª©c ƒë·ªô v·∫≠n ƒë·ªông</label>
    <select id="activity">
      <option value="">-- Ch·ªçn --</option>
      <option value="high">V·∫≠n ƒë·ªông nhi·ªÅu</option>
      <option value="medium">V·∫≠n ƒë·ªông v·ª´a ph·∫£i</option>
      <option value="low">√çt ho·∫∑c kh√¥ng v·∫≠n ƒë·ªông</option>
    </select>

    <label>3. C·∫£m gi√°c c∆° th·ªÉ hi·ªán t·∫°i</label>
    <select id="feeling">
      <option value="">-- Ch·ªçn --</option>
      <option value="energetic">Kh·ªèe kho·∫Øn</option>
      <option value="normal">B√¨nh th∆∞·ªùng</option>
      <option value="tired">M·ªát m·ªèi</option>
      <option value="stressed">CƒÉng th·∫≥ng</option>
</select>

    </select>

    <label>4. M·ª©c ƒë·ªô u·ªëng n∆∞·ªõc h√¥m nay</label>
    <select id="water">
      <option value="">-- Ch·ªçn --</option>
      <option value="enough">U·ªëng ƒë·ªß n∆∞·ªõc (1.5-2 l√≠t)</option>
      <option value="less">U·ªëng √≠t n∆∞·ªõc</option>
      <option value="none">G·∫ßn nh∆∞ kh√¥ng u·ªëng</option>
    </select>

    <button onclick="showSummary()">Xem ƒê√°nh Gi√°</button>
    <button onclick="saveScore()">L∆∞u K·∫øt Qu·∫£ H√¥m Nay</button>

    <div id="summary" class="result" style="display: none;"></div>
    <canvas id="healthChart" width="800" height="400"></canvas>
    <div class="note">* D·ªØ li·ªáu ƒë∆∞·ª£c c·∫≠p nh·∫≠t m·ªói ng√†y d·ª±a tr√™n t·ªïng th·ªÉ: v·∫≠n ƒë·ªông, n∆∞·ªõc u·ªëng, gi·∫•c ng·ªß, v.v...</div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script>
    const labels = ['Th·ª© 2', 'Th·ª© 3', 'Th·ª© 4', 'Th·ª© 5', 'Th·ª© 6', 'Th·ª© 7', 'Ch·ªß nh·∫≠t'];
    let scores = labels.map((_, index) => parseInt(localStorage.getItem("health_score_day_" + index)) || 0);

    const ctx = document.getElementById('healthChart').getContext('2d');
    const healthChart = new Chart(ctx, {
      type: 'line',
      data: {
        labels: labels,
        datasets: [{
          label: 'ƒêi·ªÉm S·ª©c Kh·ªèe',
          data: scores,
          fill: true,
          backgroundColor: 'rgba(0, 123, 255, 0.1)',
          borderColor: '#007bff',
          tension: 0.3,
          pointBackgroundColor: '#007bff',
          pointRadius: 6
        }]
      },
      options: {
        responsive: true,
        scales: {
          y: {
            beginAtZero: true,
            max: 100,
            title: {
              display: true,
              text: 'ƒêi·ªÉm (%)'
            }
          }
        }
      }
    });

    function showSummary() {
      const sleep = document.getElementById("sleep").value;
      const activity = document.getElementById("activity").value;
      const feeling = document.getElementById("feeling").value;
      const water = document.getElementById("water").value;
      const result = document.getElementById("summary");

      if (!sleep || !activity || !feeling || !water) {
        alert("Vui l√≤ng ch·ªçn ƒë·∫ßy ƒë·ªß c√°c th√¥ng tin!");
        return;
      }

      let content = "<strong>‚úÖ ƒê√°nh gi√° h√¥m nay:</strong>";

      if (sleep === "good") content += "<br>- B·∫°n c√≥ gi·∫•c ng·ªß t·ªët. C∆° th·ªÉ ƒë∆∞·ª£c ph·ª•c h·ªìi.";
      else if (sleep === "average") content += "<br>- Ng·ªß ch∆∞a s√¢u. C√≥ th·ªÉ ·∫£nh h∆∞·ªüng t·ªõi s·ª± t·∫≠p trung.";
      else content += "<br>- Gi·∫•c ng·ªß k√©m. N√™n c·∫£i thi·ªán m√¥i tr∆∞·ªùng ng·ªß.";

      if (activity === "high") content += "<br>- B·∫°n ƒë√£ v·∫≠n ƒë·ªông ƒë·ªß. ƒêi·ªÅu n√†y r·∫•t t·ªët!";
      else if (activity === "medium") content += "<br>- V·∫≠n ƒë·ªông ·ªïn ƒë·ªãnh. C·ªë g·∫Øng h∆°n n·ªØa nh√©!";
      else content += "<br>- B·∫°n n√™n r·ªùi gh·∫ø, ƒëi b·ªô nh·∫π nh√†ng m·ªói ng√†y.";

      if (feeling === "energetic") {
  content += "<br>- NƒÉng l∆∞·ª£ng d·ªìi d√†o. Ti·∫øp t·ª•c duy tr√¨ nh√©!";
} else if (feeling === "normal") {
  content += "<br>- B·∫°n c·∫£m th·∫•y b√¨nh th∆∞·ªùng. ƒê√¢y l√† d·∫•u hi·ªáu ·ªïn ƒë·ªãnh, h√£y duy tr√¨ v√† l·∫Øng nghe c∆° th·ªÉ.";
} else if (feeling === "tired") {
  content += "<br>- C∆° th·ªÉ m·ªát m·ªèi. Ngh·ªâ ng∆°i ho·∫∑c b·ªï sung nƒÉng l∆∞·ª£ng b·∫±ng b·ªØa ƒÉn nh·∫π, ng·ªß tr∆∞a ho·∫∑c ƒëi d·∫°o.";
} else if (feeling === "stressed") {
  content += "<br>- B·∫°n ƒëang cƒÉng th·∫≥ng. H√£y th·ª≠ h√≠t th·ªü s√¢u, thi·ªÅn, ho·∫∑c chia s·∫ª v·ªõi ng∆∞·ªùi th√¢n ƒë·ªÉ gi·∫£i t·ªèa.";
}


      if (water === "enough") content += "<br>- Cung c·∫•p n∆∞·ªõc ƒë·∫ßy ƒë·ªß gi√∫p da v√† c∆° th·ªÉ kh·ªèe m·∫°nh.";
      else if (water === "less") content += "<br>- H√£y u·ªëng th√™m 1-2 c·ªëc n∆∞·ªõc n·ªØa nh√©.";
      else content += "<br>- B·∫°n ƒëang thi·∫øu n∆∞·ªõc tr·∫ßm tr·ªçng, n√™n b·ªï sung ngay.";

      content += "<strong><br><br>üëâ T·ªïng k·∫øt:</strong>";
      if (
  sleep === "good" &&
  activity === "high" &&
  (feeling === "energetic" || feeling === "normal") &&
  water === "enough"
) {
  content += "<br>üëè B·∫°n ƒëang duy tr√¨ m·ªôt l·ªëi s·ªëng r·∫•t kh·ªèe m·∫°nh!";
} else if (feeling === "normal") {
  content += "<br>‚úÖ C∆° th·ªÉ b·∫°n ƒëang ·ªïn ƒë·ªãnh. H√£y duy tr√¨ v√† n√¢ng c·∫•p t·ª´ng ch√∫t ƒë·ªÉ ng√†y mai t·ªët h∆°n.";
} else {
  content += "<br>‚ö†Ô∏è H√£y ƒëi·ªÅu ch·ªânh th√≥i quen ƒë·ªÉ c∆° th·ªÉ b·∫°n ƒë∆∞·ª£c t√°i t·∫°o t·ªët h∆°n.";
}


      result.innerHTML = content;
      result.style.display = "block";
    }

    function saveScore() {
      const today = new Date().getDay();
      const sleep = document.getElementById("sleep").value;
      const activity = document.getElementById("activity").value;
      const feeling = document.getElementById("feeling").value;
      const water = document.getElementById("water").value;

      if (!sleep || !activity || !feeling || !water) {
        alert("Vui l√≤ng ch·ªçn ƒë·∫ßy ƒë·ªß th√¥ng tin tr∆∞·ªõc khi l∆∞u!");
        return;
      }

      let score = 0;
      if (sleep === "good") score += 25;
      else if (sleep === "average") score += 15;
      else score += 5;

      if (activity === "high") score += 25;
      else if (activity === "medium") score += 15;
      else score += 5;

      if (feeling === "energetic") score += 25;
else if (feeling === "normal") score += 20;
else if (feeling === "tired") score += 15;
else score += 5;


      if (water === "enough") score += 25;
      else if (water === "less") score += 15;
      else score += 5;

      const dayIndex = today === 0 ? 6 : today - 1;
      scores[dayIndex] = score;
      localStorage.setItem("health_score_day_" + dayIndex, score);
      healthChart.data.datasets[0].data = scores;
      healthChart.update();
      alert("ƒê√£ l∆∞u k·∫øt qu·∫£ cho " + labels[dayIndex]);
    }
  </script>
</html>
